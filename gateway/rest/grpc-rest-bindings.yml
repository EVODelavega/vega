---
type: google.api.Service
config_version: 3

name: api.v1.trading
title: Vega Trading API

apis:
  - name: TradingService
  - name: TradingDataService

http:
  rules:
    # Markets
    - selector: api.v1.TradingDataService.Markets
      get: '/markets'
    - selector: api.v1.TradingDataService.MarketByID
      get: '/markets/{marketID}'
    - selector: api.v1.TradingDataService.Candles
      get: '/markets/{marketID}/candles'
    - selector: api.v1.TradingDataService.MarketDepth
      get: '/markets/{marketID}/depth'
    - selector: api.v1.TradingDataService.OrdersByMarket
      get: '/markets/{marketID}/orders'
    - selector: api.v1.TradingDataService.OrderByMarketAndID
      get: '/markets/{marketID}/orders/{orderID}'
    - selector: api.v1.TradingDataService.TradesByMarket
      get: '/markets/{marketID}/trades'
    - selector: api.v1.TradingDataService.LastTrade
      get: '/markets/{marketID}/trades/latest'
    - selector: api.v1.TradingDataService.MarketAccounts
      get: '/markets/{marketID}/accounts'

    # assets
    - selector: api.v1.TradingDataService.Assets
      get: '/assets'
    - selector: api.v1.TradingDataService.AssetByID
      get: '/assets/{ID}'
    - selector: api.v1.TradingDataService.FeeInfrastructureAccounts
      get: '/assets/{asset}/infrastructureFeeAccount'


    # MarketData
    - selector: api.v1.TradingDataService.MarketsData
      get: '/markets-data'
    - selector: api.v1.TradingDataService.MarketDataByID
      get: '/markets-data/{marketID}'


    # transaction bundles
    - selector: api.v1.TradingService.SubmitTransaction
      post: '/transaction'
      body: "*"

    # Orders
    - selector: api.v1.TradingService.PrepareSubmitOrder
      post: '/orders/prepare/submit'
      body: "*"
    - selector: api.v1.TradingService.PrepareCancelOrder
      post: '/orders/prepare/cancel'
      body: "*"
    - selector: api.v1.TradingService.PrepareAmendOrder
      post: '/orders/prepare/amend'
      body: "*"
    - selector: api.v1.TradingDataService.OrderByReference
      get: '/orders/{reference}'
    - selector: api.v1.TradingDataService.OrderVersionsByID
      get: '/orders/{orderID}/versions'
    - selector: api.v1.TradingDataService.TradesByOrder
      get: '/orders/{orderID}/trades'

    # Fee
    - selector: api.v1.TradingDataService.EstimateFee
      post: '/orders/fee/estimate'
      body: "*"

    # Margins
    - selector: api.v1.TradingDataService.EstimateMargin
      post: '/orders/margins/estimate'
      body: "*"

      # Network parameters
    - selector: api.v1.TradingDataService.NetworkParameters
      get: '/network/parameters'

    # Parties
    - selector: api.v1.TradingDataService.Parties
      get: '/parties'
    - selector: api.v1.TradingDataService.PartyByID
      get: '/parties/{partyID}'
    - selector: api.v1.TradingDataService.OrdersByParty
      get: '/parties/{partyID}/orders'
    - selector: api.v1.TradingDataService.PositionsByParty
      get: '/parties/{partyID}/positions'
    - selector: api.v1.TradingDataService.TradesByParty
      get: '/parties/{partyID}/trades'
    - selector: api.v1.TradingDataService.PartyAccounts
      get: '/parties/{partyID}/accounts'
    - selector: api.v1.TradingDataService.MarginLevels
      get: '/parties/{partyID}/markets/{marketID}/margin'

    - selector: api.v1.TradingService.PrepareWithdraw
      post: '/parties/prepare/withdraw'
      body: '*'

    # governance stuff by party
    - selector: api.v1.TradingDataService.GetProposalsByParty
      get: '/parties/{partyID}/proposals'
    - selector: api.v1.TradingDataService.GetVotesByParty
      get: '/parties/{partyID}/votes'

    # withdrawals
    - selector: api.v1.TradingDataService.Withdrawal
      get: '/withdrawals/{ID}'
    - selector: api.v1.TradingDataService.Withdrawals
      get: '/withdrawals/party/{partyID}'
    - selector: api.v1.TradingDataService.ERC20WithdrawalApproval
      get: '/withdrawals/{withdrawalID}/approval/erc20'

    # deposits
    - selector: api.v1.TradingDataService.Deposit
      get: '/deposits/{ID}'
    - selector: api.v1.TradingDataService.Deposits
      get: '/deposits/party/{partyID}'

    # Governance
    - selector: api.v1.Trading.PrepareProposal
      post: '/governance/prepare/proposal'
      body: "*"
    - selector: api.v1.Trading.PrepareVote
      post: '/governance/prepare/vote'
      body: "*"

    # Governance queries
    - selector: api.v1.TradingDataService.GetProposalByID
      get: '/governance/proposal/{proposalID}'
    - selector: api.v1.TradingDataService.GetProposalByReference
      get: '/governance/proposal/reference/{reference}'
    - selector: api.v1.TradingDataService.GetNewMarketProposals
      get: '/governance/market/proposals'
    - selector: api.v1.TradingDataService.GetNewAssetProposals
      get: '/governance/asset/proposals'
    - selector: api.v1.TradingDataService.GetProposals
      get: '/governance/proposals'


    # LiquidityProvision
    - selector: api.v1.Trading.PrepareLiquidityProvision
      post: '/liquidity-provisions/prepare/submit'
      body: "*"
    - selector: api.v1.Trading.PrepareLiquidityProvision
      get: '/liquidity-provisions'

    # Miscellaneous
    - selector: api.v1.TradingDataService.Statistics
      get: '/statistics'
    - selector: api.v1.TradingDataService.GetVegaTime
      get: '/time'
